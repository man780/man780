# Python Backend

## Сеть
### Вопросы
- Какие сетевые протоколы бывают?
- Структура http запроса, отличие от udp к примеру?
- Чем отличается http от tcp ?
- Чем отличается http от https?
- Какие протоколы еще бывают?
- идемпотентность методов?

### Ответы

1. **HTTP (Hypertext Transfer Protocol):** Протокол передачи гипертекста, используемый для передачи данных между клиентом и сервером в сети.

2. **HTTPS (Hypertext Transfer Protocol Secure):** Защищенная версия HTTP, обеспечивающая шифрование данных между клиентом и сервером.

3. **TCP (Transmission Control Protocol):** Протокол управления передачей данных, обеспечивающий надежное и

   [comment]: <> (Текст продолжится в следующей строке)

   полностью упорядоченное соединение между двумя узлами.

4. **UDP (User Datagram Protocol):** Протокол пользовательских дейтаграмм, обеспечивающий передачу данных без гарантии доставки и установления соединения.

### Структура HTTP запроса

HTTP запрос обычно состоит из трех частей: строки запроса, заголовков и тела запроса.

Пример HTTP запроса:

```http
GET /path/to/resource HTTP/1.1
Host: example.com
User-Agent: Mozilla/5.0
Accept: text/html
```

Отличие от UDP заключается в том, что TCP предоставляет установленное соединение с гарантированной доставкой пакетов и контролем порядка, тогда как UDP предоставляет более легковесное соединение без гарантии доставки и управления порядком.

HTTP (Hypertext Transfer Protocol) - это протокол прикладного уровня, использующий TCP в качестве транспортного уровня. Он предназначен для передачи гипертекстовой информации.

HTTPS (Hypertext Transfer Protocol Secure) - это та же система, что и HTTP, но с добавленным уровнем шифрования, предоставляемым протоколом SSL/TLS.

### Другие протоколы:

1. FTP (File Transfer Protocol): Протокол передачи файлов, используемый для загрузки и скачивания файлов.
2. SMTP (Simple Mail Transfer Protocol): Протокол передачи почты, используемый для отправки электронных писем.
3. SSH (Secure Shell): Протокол удаленного управления, обеспечивающий шифрованную коммуникацию между двумя узлами.

### Идемпотентность методов
В контексте HTTP, идемпотентные методы – это те методы, которые не влияют на результат при их повторном выполнении.

Примеры идемпотентных методов:

- GET: Получение информации.
- PUT: Замена или создание ресурса.
- DELETE: Удаление ресурса.
Например, если вы выполняете запрос GET для получения информации, повторный запрос GET с теми же параметрами не изменит состояние сервера.

---


## Архитектура ПО
### Вопросы
- Какие архитектуры ПО знакомы?
- Отличие луковичной от слоистой архитектуры ?
- Отличие микросервисной архитектуры от монолита?
- Способы взаимодействия в микросервисной архитектуре ?
- В чем отличие rest, брокеров, grpc, websockets, AMQP?
- Пример взаимодействия трех микросервисов, нарисовать архитектуру и рассказать. (Заказы товара, уведомления, списания с карты)
- Пример взаимодействия пяти микросервисов, нарисовать архитектуру и рассказать. (пользователи, заказы товара, уведомления, списания с карты, оплата)
- Оркестратор

### Ответы
# Архитектура ПО

### Типы архитектур

1. **Монолитная архитектура:**
   - Одно приложение, все функции внутри.

2. **Микросервисная архитектура:**
   - Разделение функций на микросервисы.

3. **Слоистая архитектура:**
   - Разделение на горизонтальные слои.

4. **Луковичная архитектура:**
   - Смешивание слоев и внутренняя иерархия.

### Отличия между луковичной и слоистой архитектурой

- **Луковичная архитектура:** Позволяет внутренним слоям взаимодействовать с внешними, но не наоборот.
  
- **Слоистая архитектура:** Имеет четкое разделение на горизонтальные слои, с обычно двунаправленным взаимодействием.

### Отличия между микросервисной архитектурой и монолитом

- **Микросервисы:** Разделены на независимые микросервисы, обеспечивая легкость масштабирования, но требуют слаженного управления.

- **Монолит:** Весь функционал в одном приложении, что упрощает управление, но может создавать проблемы с масштабированием.

### Способы взаимодействия в микросервисной архитектуре

- **HTTP REST API:** Общее соглашение для взаимодействия посредством HTTP.

- **Message Brokers:** Асинхронный обмен сообщениями, например, RabbitMQ, Kafka.

- **gRPC:** Протокол удаленного вызова процедур.

- **WebSocket:** Двустороннее обмен сообщениями.

- **AMQP (Advanced Message Queuing Protocol):** Протокол передачи сообщений.

### Различия между REST, брокерами сообщений, gRPC, WebSockets, AMQP

- **REST:** Архитектурный стиль для построения веб-сервисов.

- **Брокеры сообщений:** Асинхронный обмен сообщениями (RabbitMQ, Kafka).

- **gRPC:** Протокол удаленного вызова процедур с использованием Protocol Buffers.

- **WebSocket:** Протокол для постоянного двустороннего обмена сообщениями.

- **AMQP:** Протокол передачи сообщений для асинхронного обмена данными.

### Пример взаимодействия трех микросервисов

1. **Сервис заказов товара:**
   - Принимает HTTP POST запрос с информацией о заказе.
   - Сохраняет информацию о заказе в базе данных.

2. **Сервис уведомлений:**
   - Подписан на событие создания нового заказа в системе заказов товара.
   - При получении события отправляет уведомление клиенту.

3. **Сервис списания с карты:**
   - Подписан на событие создания нового заказа в системе заказов товара.
   - При получении события проводит транзакцию списания с карты клиента.

### Пример взаимодействия пяти микросервисов

1. **Сервис пользователей:**
   - Хранит информацию о пользователях.

2. **Сервис заказов товара:**
   - Принимает HTTP POST запрос с информацией о заказе.
   - Сохраняет информацию о заказе в базе данных, связанной с пользователями.

3. **Сервис уведомлений:**
   - Подписан на событие создания нового заказа в системе заказов товара.
   - При получении события отправляет уведомление клиенту.

4. **Сервис списания с карты:**
   - Подписан на событие создания нового заказа в системе заказов товара.
   - При получении события проводит транзакцию списания с карты клиента.

5. **Сервис оплаты:**
   - Принимает запрос на оплату заказа.
   - Взаимодействует с сервисом списания с карты и возвращает результат оплаты.

### Оркестратор

Оркестратор может быть центральным сервисом, управляющим координацией и последовательностью выполнения действий между микросервисами.

---

### Вопросы:

- Что такое цикломатическая сложность?
- Какие паттерны проектирования знаете и использовали?
- Отличие TDD от DDD?
- Race condition

### Ответы

#### Цикломатическая сложность

Цикломатическая сложность - это метрика программного кода, измеряющая количество линейно независимых путей в коде. Она может быть рассчитана разными способами, но часто используется формула:

\[ M = E - N + 2P \]

где:
- \( M \) — цикломатическая сложность,
- \( E \) — количество рёбер в графе контроля потока (переходы между узлами),
- \( N \) — количество узлов в графе контроля потока (базовые блоки),
- \( P \) — количество связанных компонент (всегда равно 1 для одного программного модуля).

Цикломатическая сложность используется для оценки сложности кода, и, в общем, чем выше цикломатическая сложность, тем сложнее код. Высокая цикломатическая сложность может свидетельствовать о том, что код может быть трудным для поддержки и тестирования.

#### Паттерны проектирования

##### Singleton (Одиночка)

Гарантирует, что у класса есть только один экземпляр, и предоставляет глобальную точку доступа к этому экземпляру.

##### Factory Method (Фабричный метод)

Определяет интерфейс для создания объекта, но оставляет подклассам решение, какой класс инстанцировать.

##### Observer (Наблюдатель)

Определяет зависимость "один ко многим" между объектами так, что при изменении состояния одного объекта все зависящие от него оповещаются и обновляются автоматически.

##### Strategy (Стратегия)

Определяет семейство алгоритмов, инкапсулирует каждый из них и делает их взаимозаменяемыми.

##### Decorator (Декоратор)

Динамически придает объекту новые возможности, не изменяя его интерфейс.

##### Command (Команда)

Инкапсулирует запрос как объект, позволяя клиенту параметризовать клиентов с различными запросами, очередями запросов и поддержкой отмены операций.

#### TDD vs. DDD

##### TDD (Test-Driven Development)

Методология разработки программного обеспечения, при которой тесты пишутся перед написанием кода. Процесс включает в себя написание тестов, написание кода для прохождения тестов и рефакторинг кода.

##### DDD (Domain-Driven Design)

Методология проектирования, при которой акцент делается на моделировании предметной области. DDD предлагает язык для описания бизнес-процессов и концентрируется на совместном понимании бизнес-предмета.

#### Race Condition

Состояние гонки - это ситуация в многозадачной программе, когда несколько потоков пытаются одновременно получить доступ к общему ресурсу, и порядок выполнения операций зависит от того, какие потоки достигнут этого ресурса первыми.

Это может привести к непредсказуемому поведению программы, ошибкам и сбоям. Для предотвращения состояния гонки используются механизмы синхронизации, такие как блокировки, мьютексы и семафоры.

---

